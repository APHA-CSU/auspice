---
title: Requests made from the client
---

The auspice client will make a number of requests to various endpoints, which this document aims to provide an overview of.
Some of these are dependent on the [build-time customisations](customise-client/introduction.md) in use, and we plan to allow more flexibility here using this mechanism.


## Requests to the auspice server
For the purposes of this section we are assuming you are running locally on "localhost:4000", however the idea is the same if auspice is deployed to a server.


### Auspice client JavaScript code (bundles)
The (bundled) client code (which is generated by `auspice build`) is broken up into a number of "chunks" which are delivered to the client as needed.
These originate from the following block in the `index.html` file:
```html
<script async src="/dist/auspice.bundle.js"></script>
```

### "Charon" GET requests
When a dataset, narrative or listing of available datasets is to be displayed in auspice, a selection of the following requests are made to localhost:4000.

* `/charon/getAvailable` -- return a list of available datasets and narratives
* `/charon/getDataset` -- return the requested dataset
* `/charon/getNarrative` -- return the requested narrative

See [the server API documentation](server/api.md) for more details.

### Image requests

The initial auspice page (i.e. the one which displays a listing of availiable datasets) requests some images for the footer.

## External requests

### Fonts
Two initial requests for fonts are made, for [google-hosted lato fonts (CSS)](https://fonts.googleapis.com/css?family=Lato:100,200,300,400,500,700) and [font-awesome (CSS)](https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">).
These in turn make a number of subsequent requests for the individual font files etc.


### Leaflet
We use [leaflet](https://leafletjs.com/) to display the map tiles.
There is one initial CSS request which is always made, regardless of whether a map is displayed for the [leaflet CSS file](https://unpkg.com/leaflet@1.0.1/dist/leaflet.css).

If a map is displayed by auspice the individual tiles are requested from api.mapbox.com.
Panning and zooming of the map result in futher requests for tiles.
These are requested using a hardcoded access key, however this may change to a build-time-customisation.


### Google Analytics (optional)
Auspice has the potential to include google analytics in a limited fashion.
See TODO for more details.
Note that these requests are only made if you specify a Google Analytics key during build-time customisation of the client.
